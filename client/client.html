<head>
  <title>Chat app</title>
</head>

<body>
  <div class="container">
    {{> loginButtons align="right"}}
    <h1>Chatapp</h1>
    {{> welcome }}
    <div id="messages-container">
      {{> loadEarlierMessages }}
      {{> messages }}
    </div>
  </div>
  <div class="center">
    {{#if currentUser}}
      {{> input }}
    {{/if}}
</div>
</body>

<template name="welcome">
  {{#unless currentUser}}
    <p>
      Welcome to the example chat app! Please log in to show your username.
    </p>
  {{/unless}}
</template>

<template name="loadEarlierMessages">
  {{#if currentUser}}
    <div class="load-more">
      <button id="loadMoreButton">Load Earlier Messages</button>
    </div>
  {{/if}}
</template>

<template name="messages">
  {{#each messages}}
    {{#if currentUserSubmitted}}
      {{#if currentUser}}
        <div class="current-user-msg">
          <div>{{message}}</div>
        </div>
      {{/if}}
    {{else}}
      <div class="other-msg-container">
        <small class="other-user-namestamp">{{name}}</small><br />
        <div class="other-user-msg">
          <div>{{message}}</div>
        </div>
      </div>
    {{/if}}
  {{/each}}
</template>

<template name="input">
  <div id="addMessage"><input type="text" id="message" placeholder="Enter new message"></div>
</template>
